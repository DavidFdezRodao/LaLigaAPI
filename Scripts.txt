USE [master]
GO
CREATE DATABASE [LaLiga]
 CONTAINMENT = NONE
 WITH CATALOG_COLLATION = DATABASE_DEFAULT
GO

USE [LaLiga]
GO

SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[CLUBES](
	[ID_CLUB] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRE] [varchar](50) NOT NULL,
	[PRESUPUESTO] [int] NOT NULL,
	[ESCUDO] [nvarchar](90) NOT NULL,
 CONSTRAINT [PK_CLUBES] PRIMARY KEY CLUSTERED 
(
	[ID_CLUB] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

USE [LaLiga]
GO

SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[POSICIONES](
	[ID_POSICION] [int] IDENTITY(1,1) NOT NULL,
	[POSICION] [varchar](50) NOT NULL,
 CONSTRAINT [PK_POSICIONES] PRIMARY KEY CLUSTERED 
(
	[ID_POSICION] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

USE [LaLiga]
GO

SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[JUGADORES](
	[ID_JUGADOR] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRE] [varchar](50) NOT NULL,
	[F_NACIMIENTO] [date] NOT NULL,
	[POSICION] [int] NULL,
	[SALARIO] [int] NULL,
	[CLUB] [int] NULL,
	[CANTERANO] [bit] NULL,
 CONSTRAINT [PK_JUGADORES] PRIMARY KEY CLUSTERED 
(
	[ID_JUGADOR] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[JUGADORES]  WITH CHECK ADD  CONSTRAINT [FK_JUGADORES_CLUBES] FOREIGN KEY([CLUB])
REFERENCES [dbo].[CLUBES] ([ID_CLUB])
ON UPDATE CASCADE
ON DELETE SET NULL
GO

ALTER TABLE [dbo].[JUGADORES] CHECK CONSTRAINT [FK_JUGADORES_CLUBES]
GO

ALTER TABLE [dbo].[JUGADORES]  WITH CHECK ADD  CONSTRAINT [FK_JUGADORES_POSICIONES] FOREIGN KEY([POSICION])
REFERENCES [dbo].[POSICIONES] ([ID_POSICION])
ON UPDATE CASCADE
ON DELETE SET NULL
GO

ALTER TABLE [dbo].[JUGADORES] CHECK CONSTRAINT [FK_JUGADORES_POSICIONES]
GO


USE [LaLiga]
GO

SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[ENTRENADORES](
	[ID_ENTRENADOR] [int] NOT NULL,
	[NOMBRE] [varchar](50) NOT NULL,
	[F_NACIMIENTO] [date] NOT NULL,
	[SALARIO] [int] NOT NULL,
	[CLUB] [int] NULL,
 CONSTRAINT [PK_ENTRENADORES] PRIMARY KEY CLUSTERED 
(
	[ID_ENTRENADOR] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[ENTRENADORES]  WITH CHECK ADD  CONSTRAINT [FK_ENTRENADORES_CLUBES] FOREIGN KEY([CLUB])
REFERENCES [dbo].[CLUBES] ([ID_CLUB])
ON UPDATE CASCADE
ON DELETE SET NULL
GO

ALTER TABLE [dbo].[ENTRENADORES] CHECK CONSTRAINT [FK_ENTRENADORES_CLUBES]
GO


INSERT INTO CLUBES (NOMBRE, PRESUPUESTO, ESCUDO) VALUES ('REAL MADRID', 1000,'http://as01.epimg.net/img/comunes/fotos/fichas/equipos/large/1.png')
INSERT INTO CLUBES (NOMBRE, PRESUPUESTO, ESCUDO) VALUES ('ATLETICO DE MADRID', 1000,'http://as01.epimg.net/img/comunes/fotos/fichas/equipos/large/42.png')
INSERT INTO CLUBES (NOMBRE, PRESUPUESTO, ESCUDO) VALUES ('FC BARCELONA', 1000,'http://as01.epimg.net/img/comunes/fotos/fichas/equipos/large/3.png')

INSERT INTO POSICIONES (POSICION) VALUES('PORTERO')
INSERT INTO POSICIONES (POSICION) VALUES('DEFENSA')
INSERT INTO POSICIONES (POSICION) VALUES('CENTROCAMPISTA')
INSERT INTO POSICIONES (POSICION) VALUES('DELANTERO')

INSERT INTO JUGADORES(NOMBRE, F_NACIMIENTO, POSICION, SALARIO, CANTERANO, CLUB) VALUES ('BENZEMA', '19/12/1987', 4, 100, 0, 1)
INSERT INTO JUGADORES(NOMBRE, F_NACIMIENTO, POSICION, SALARIO, CANTERANO, CLUB) VALUES ('KOKE', '08/01/1992', 3, 100, 0, 2)
INSERT INTO JUGADORES(NOMBRE, F_NACIMIENTO, POSICION, SALARIO, CANTERANO, CLUB) VALUES ('PIQUE', '02/02/1987', 2, 100, 0, 3)